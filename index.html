<html>
<body background="img/bg.jpg" onkeydown="act(event)">
<script src="js/Pixel.js"></script>
<script src="js/Blocks.js"></script>
<script src="js/utilities.js"></script>
<script src="js/Sand.js"></script>
<script src="js/GunPowder.js"></script>
<script src="js/game.js"></script>


<script>
function act(e)
{
var keynum;

    if(window.event) { // IE                    
      keynum = e.keyCode;
    } else if(e.which){ // Netscape/Firefox/Opera                   
      keynum = e.which;
    }
if(keynum==32)
{
	blocks[i1].rotate();
}
else if(keynum==40)
{
	interval=25;
}
else if(keynum==37)

{  
var f=0;
	for(i=0;i<4;i++)
	{if(blocks[i1].locations[i]%n==0||pixels[blocks[i1].locations[i]-1].state=='block')
{f=1;
break;
}
	}
	if(f==0)
	{
	for(i=0;i<4;i++)
	blocks[i1].locations[i]--;
blocks[i1].centerX-=can.width/n;
}
}
else if(keynum==39)

{  
var f=0;
	for(i=0;i<4;i++)
	{if(blocks[i1].locations[i]%n==n-1||pixels[blocks[i1].locations[i]+1].state=='block')
{f=1;
break;
}
	}
	if(f==0)
	{
	for(i=0;i<4;i++)
	blocks[i1].locations[i]++;
blocks[i1].centerX+=can.width/n;
}
}
}
</script>
<canvas id="can" style="position:absolute;top:1%;left:30%;width:40%;height:97%;border:0px solid white" width="300" height="300"></canvas>
<img id="constellation" src="img/constellation.jpg" style="width:1px;height:1px;"></img>
<audio src="sounds/exp.mp3" id="exp"></audio>
<audio src="sounds/bgm.mp3" id="bgm" autoplay loop></audio>
<div id="score" style="width:20%;height:10%;position:absolute;left:75%;top:10%;font-size:40px;color:white">Score: 0</div>
<div id="blocks_on_fire" style="width:20%;height:10%;position:absolute;left:5%;top:10%;font-size:40px;color:white">Blocks on fire: 0</div>
</body>
</html>